(this["webpackJsonpmy-site"]=this["webpackJsonpmy-site"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},3:function(e,t,n){e.exports={load:"styles_load__3DBq-",title:"styles_title__3JzFI",demotivatorContainer:"styles_demotivatorContainer__3AlRF",inputBack:"styles_inputBack__5KXBY",inputContainer:"styles_inputContainer__5W_cs",buttonContainer:"styles_buttonContainer__r4cNs"}},49:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(19),i=n.n(r),s=(n(27),n(28),n(10)),o=n(22),l=n(9),u=n.n(l),d=n(20),h=n(4),j=n(21),b=n.n(j),p=("https://".concat("contextualwebsearch-websearch-v1.p.rapidapi.com","/api"),n(3)),x=n.n(p),m=n(6),f=n.n(m),g=n(0),v=function(e){var t=e.text,n=e.secondText,a=e.children;return Object(g.jsxs)("div",{className:f.a.demotivator,children:[Object(g.jsx)("div",{className:f.a.imgContainer,children:a}),Object(g.jsx)("div",{className:f.a.textContainer,children:t}),Object(g.jsx)("div",{className:f.a.secondTextContainer,children:n})]})},O=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({text:"",secondText:""}),i=Object(h.a)(r,2),l=i[0],j=i[1],p=Object(a.useState)(!1),m=Object(h.a)(p,2),f=m[0],O=m[1],_=Object(a.useState)(!1),C=Object(h.a)(_,2),y=C[0],w=C[1],k=Object(a.useState)(!1),S=Object(h.a)(k,2),A=S[0],N=S[1],I=Object(a.useState)(!1),B=Object(h.a)(I,2),F=B[0],T=B[1],L=["https://www.film.ru/sites/default/files/filefield_paths/1517047575_nicolas-cage-nicolas-cage-26969948-1989-1300.jpg","https://icdn.lenta.ru/images/2017/07/24/09/20170724090548799/detail_436b3d755101963b4cc3b620ef01d7cb.jpg","https://1.bp.blogspot.com/-KlXcCpI8ilk/XhuYfNP_BNI/AAAAAAAAFNA/VANw-wSRB8IbxDQGziBIJ-KYsnblnxlMACEwYBhgL/s1600/3.jpg"],P=function(e){return Math.floor(Math.random()*e)},R=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c,r,i,s,o,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=0;case 2:if(!(a<t.length)){e.next=17;break}if(c=localStorage.getItem(t[a])){e.next=13;break}return e.next=7,u=t[a],b.a.post("https://meme-api-jade.vercel.app/api/getimg",{text:u});case 7:i=e.sent,s=(null===(r=i.data)||void 0===r?void 0:r.text)?i.data.text:L[P(L.length)],n.push(s),localStorage.setItem(t[a],s),e.next=14;break;case 13:n.push(c);case 14:a++,e.next=2;break;case 17:o=function(e){return new Promise((function(t,n){var a=new Image;a.onload=function(){return t(a)},a.onerror=function(){this.src=L[P(L.length)]},a.src=e}))},l=[],d=0;case 20:if(!(d<n.length)){e.next=29;break}return e.t0=l,e.next=24,o(n[d]);case 24:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 26:d++,e.next=20;break;case 29:return e.abrupt("return",l);case 30:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){var n=e.replace(/\([^\(]*\)/gm,""),a=window.speechSynthesis,c=Object(o.a)(e.matchAll(/\([^\(]*\)/gm)),r=e.split("").map((function(e,t){var n=!1;return c.forEach((function(a){" "===e&&t>a.index&&t<a.index+a[0].length&&(n=!0)})),n?"~":e})).join("").split(" ").filter((function(e){return e.length})).map((function(e){var t,n=e.match(/\(.*\)/);return n&&null!==(t=n[0].replace(/\(|\)/gm,"").replaceAll("~"," "))&&void 0!==t?t:""})),i=new SpeechSynthesisUtterance(n);i.lang="ru-RU",i.rate=.6;var s=0;i.addEventListener("boundary",(function(e){"word"===e.name&&(j({text:n.slice(e.charIndex,e.charIndex+e.charLength),secondText:r[s]}),function(e){var t=document.querySelector("#image");t.innerHTML="",t.appendChild(e)}(t[s]),s++)})),i.addEventListener("end",(function(){N(!0)})),a.speak(i)};return Object(g.jsx)("div",{children:f?Object(g.jsx)("div",{className:x.a.load,children:"loading..."}):Object(g.jsx)(g.Fragment,{children:y?Object(g.jsx)(g.Fragment,{children:l.text.length?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:x.a.demotivatorContainer,children:Object(g.jsx)(v,Object(s.a)(Object(s.a)({},l),{},{children:Object(g.jsx)("div",{id:"image"})}))}),Object(g.jsx)("div",{className:x.a.buttonContainer,children:A&&Object(g.jsx)("button",{onClick:function(){w(!1),N(!1),j({text:"",secondText:""})},children:"\u041f\u041e\u0412\u0422\u041e\u0420\u0418\u0422\u042c"})})]}):Object(g.jsx)(g.Fragment,{})}):Object(g.jsx)("div",{className:x.a.inputBack,children:Object(g.jsxs)("div",{className:x.a.inputContainer,children:[Object(g.jsxs)("div",{className:x.a.title,children:["\u0414\u0415\u041d\u0418\u041d\u0422\u0415\u041d\u0414\u0410\u0422\u041e\u0420",Object(g.jsx)("span",{style:{fontSize:"50px"},children:"v.0.2"})]}),Object(g.jsx)("textarea",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442...",value:n,onChange:function(e){return c(e.target.value)}}),Object(g.jsx)("button",{onClick:function(){return function(e){var t=function(e){for(var t=["\u0430","\u0431","\u0432","\u0433","\u0434","\u0435","\u0451","\u0436","\u0437","\u0438","\u0439","\u043a","\u043b","\u043c","\u043d","\u043e","\u043f","\u0440","\u0441","\u0442","\u0443","\u0444","\u0445","\u0446","\u0447","\u0448","\u0449","\u044a","\u044b","\u044c","\u044d","\u044e","\u044f"," "],n=["a","b","v","g","d","e","e","j","z","i","y","k","l","m","n","o","p","r","s","t","u","f","h","ts","ch","sh","sch","","i","","e","u","ya"," "],a={},c=0;c<t.length;c++)a[t[c]]=n[c];return e.toLowerCase().split("").map((function(e){var t;return null!==(t=a[e])&&void 0!==t?t:/\w/.test(e)?e:""})).join("")}(e.replace(/\([^\(]*\)/gm,"")).split(/\s/gm).filter((function(e){return e.length}));t.length>20?(T(!0),setTimeout((function(){return T(!1)}),2e3)):(O(!0),w(!0),R(t).then((function(t){O(!1),E(e,t)})))}(n)},children:"\u0414\u0415\u041c\u041e\u0422\u0418\u0412\u0418\u0420\u041e\u0412\u0410\u0422\u042c!"}),F&&Object(g.jsx)("div",{style:{color:"red"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u043b\u043e\u0432"})]})})})})};var _=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(O,{})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(_,{})}),document.getElementById("root")),C()},6:function(e,t,n){e.exports={demotivator:"styles_demotivator__3KPcH",imgContainer:"styles_imgContainer__7hFRR",textContainer:"styles_textContainer__A8R6s",secondTextContainer:"styles_secondTextContainer__2BPSI"}}},[[49,1,2]]]);
//# sourceMappingURL=main.b0267ef1.chunk.js.map